<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-01-15
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Kent Beck, Erich Gamma" />
    <meta name="Date-Revision-yyyymmdd" content="20140115" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JUnit - JUnit Cookbook</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarEnabled">
          
    
    
            
    
    
    <a href="http://github.com/junit-team/junit">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container"><div class="nav-collapse">
            
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                  
                      <li>      <a href="faq.html"  title="Frequently asked questions">Frequently asked questions</a>
</li>
                  
                      <li>      <a href="cookbook.html"  title="Cookbook">Cookbook</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="changes-report.html"  title="Changes Report">Changes Report</a>
</li>
                                  <li>      <a href="github-report.html"  title="GitHub Report">GitHub Report</a>
</li>
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="surefire-report.html"  title="Surefire Report">Surefire Report</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
                                                              
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="./" id="bannerLeft">
                                                                                                <img src="images/junit-logo.png"  alt="JUnit"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="./" title="JUnit">
        JUnit</a>
        </li>
      <li class="divider ">/</li>
        <li class="">JUnit Cookbook</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2014-01-15</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 4.12-SNAPSHOT</li>
            
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <p>Here is a short cookbook showing you the steps you can follow in writing and organizing your own tests using JUnit.</p>
<div class="section">
<h2>Simple Test Case<a name="Simple_Test_Case"></a></h2>
<p>How do you write testing code?</p>
<p>The simplest way is as an expression in a debugger. You can change debug expressions without recompiling, and you can wait to decide what to write until you have seen the running objects. You can also write test expressions as statements which print to the standard output stream. Both styles of tests are limited because they require human judgment to analyze their results. Also, they don&#x2019;t compose nicely- you can only execute one debug expression at a time and a program with too many print statements causes the dreaded &#x201c;Scroll Blindness&#x201d;.</p>
<p>JUnit tests do not require human judgment to interpret, and it is easy to run many of them at the same time. When you need to test something, here is what you do:</p>

<ol style="list-style-type: decimal">
  
<li>
<p>Annotate a method with <tt>@org.junit.Test</tt></p></li>
  
<li>
<p>When you want to check a value, import <tt>org.junit.Assert.*</tt> statically, call <tt>assertTrue()</tt> and pass a boolean that is true if the test succeeds</p></li>
</ol>
<p>For example, to test that the sum of two Moneys with the same currency contains a value which is the sum of the values of the two Moneys, write:</p>

<div class="source">
<pre>@Test
public void simpleAdd() {
    Money m12CHF= new Money(12, &quot;CHF&quot;);
    Money m14CHF= new Money(14, &quot;CHF&quot;);
    Money expected= new Money(26, &quot;CHF&quot;);
    Money result= m12CHF.add(m14CHF);
    assertTrue(expected.equals(result));
}
</pre></div>
<p>If you want to write a test similar to one you have already written, write a Fixture instead.</p></div>
<div class="section">
<h2>Fixture<a name="Fixture"></a></h2>
<p>What if you have two or more tests that operate on the same or similar sets of objects?</p>
<p>Tests need to run against the background of a known set of objects. This set of objects is called a test fixture. When you are writing tests you will often find that you spend more time writing the code to set up the fixture than you do in actually testing values.</p>
<p>To some extent, you can make writing the fixture code easier by paying careful attention to the constructors you write. However, a much bigger savings comes from sharing fixture code. Often, you will be able to use the same fixture for several different tests. Each case will send slightly different messages or parameters to the fixture and will check for different results.</p>
<p>When you have a common fixture, here is what you do:</p>

<ol style="list-style-type: decimal">
  
<li>Add a field for each part of the fixture</li>
  
<li>Annotate a method with <tt>@org.junit.Before</tt> and initialize the variables in that method</li>
  
<li>Annotate a method with <tt>@org.junit.After</tt> to release any permanent resources you allocated in <tt>setUp</tt></li>
</ol>
<p>For example, to write several test cases that want to work with different combinations of 12 Swiss Francs, 14 Swiss Francs, and 28 US Dollars, first create a fixture:</p>

<div class="source">
<pre>public class MoneyTest {
    private Money f12CHF;
    private Money f14CHF;
    private Money f28USD;

    @Before public void setUp() {
        f12CHF= new Money(12, &quot;CHF&quot;);
        f14CHF= new Money(14, &quot;CHF&quot;);
        f28USD= new Money(28, &quot;USD&quot;);
    }
}
</pre></div>
<p>Once you have the Fixture in place, you can write as many Test Cases as you&#x2019;d like. Add as many test methods (annotated with <tt>@Test</tt>) as you&#x2019;d like.</p></div>
<div class="section">
<h2>Running Tests<a name="Running_Tests"></a></h2>
<p>How do you run your tests and collect their results?</p>
<p>Once you have tests, you&#x2019;ll want to run them. JUnit provides tools to define the suite to be run and to display its results. To run tests and see the results on the console, run this from a Java program:</p>

<div class="source">
<pre>org.junit.runner.JUnitCore.runClasses(TestClass1.class, ...);
</pre></div>
<p>or this from the command line, with both your test class and junit on the classpath:</p>

<div class="source">
<pre>java org.junit.runner.JUnitCore TestClass1.class [...other test classes...]
</pre></div>
<p>You make your JUnit 4 test classes accessible to a TestRunner designed to work with earlier versions of JUnit, declare a static method <i>suite</i> that returns a test.</p>

<div class="source">
<pre>public static junit.framework.Test suite() {
    return new JUnit4TestAdapter(Example.class);
}
</pre></div></div>
<div class="section">
<h2>Expected Exceptions<a name="Expected_Exceptions"></a></h2>
<p>How do you verify that code throws exceptions as expected?</p>
<p>Verifying that code completes normally is only part of programming. Making sure the code behaves as expected in exceptional situations is part of the craft of programming too. For example:</p>

<div class="source">
<pre>new ArrayList&lt;Object&gt;().get(0);
</pre></div>
<p>This code should throw an <tt>IndexOutOfBoundsException</tt>. The <tt>@Test</tt> annotation has an optional parameter <tt>expected</tt> that takes as values subclasses of <tt>Throwable</tt>. If we wanted to verify that <tt>ArrayList</tt> throws the correct exception, we would write:</p>

<div class="source">
<pre>@Test(expected= IndexOutOfBoundsException.class)
public void empty() {
    new ArrayList&lt;Object&gt;().get(0);
}
</pre></div>
<hr /></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                    2002-2014
                        <a href="http://www.junit.org">JUnit</a>.
            All Rights Reserved.      
                    
      </div>

        
                <p id="poweredBy" class="pull-right">
                                                                                                                      <a href="http://maven.apache.org/" title="Built by Maven" class="builtBy">
        <img class="builtBy"  alt="Built by Maven" src="images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="https://junit.ci.cloudbees.com/" title="Built on CloudBees" class="builtBy">
        <img class="builtBy"  alt="Built on CloudBees" src="http://www.cloudbees.com/sites/default/files/Button-Built-on-CB-1.png"    />
      </a>
                  </p>
        
                </div>
    </footer>
  </body>
</html>
